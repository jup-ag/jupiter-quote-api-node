/* tslint:disable */
/* eslint-disable */
/**
 * Swap API
 * The heart and soul of Jupiter lies in the Quote and Swap API.  ### API Rate Limit Since 1 December 2024, we have updated our API structure. Please refer to [Developer Docs](https://dev.jup.ag/docs/) for further details on usage and rate limits.  ### API Usage - API Wrapper Typescript [@jup-ag/api](https://github.com/jup-ag/jupiter-quote-api-node)  ### Data Types To Note - Public keys are base58 encoded strings - Raw data such as Vec<u8\\> are base64 encoded strings 
 *
 * The version of the OpenAPI document: 1.0.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  GetOrder200Response,
  GetOrder400Response,
  GetRouters200ResponseInner,
  GetShield200Response,
  HoldingsResponse,
  NativeHoldingsResponse,
  PostExecute200Response,
  PostExecute400Response,
  PostExecuteRequest,
} from '../models/index';
import {
    GetOrder200ResponseFromJSON,
    GetOrder200ResponseToJSON,
    GetOrder400ResponseFromJSON,
    GetOrder400ResponseToJSON,
    GetRouters200ResponseInnerFromJSON,
    GetRouters200ResponseInnerToJSON,
    GetShield200ResponseFromJSON,
    GetShield200ResponseToJSON,
    HoldingsResponseFromJSON,
    HoldingsResponseToJSON,
    NativeHoldingsResponseFromJSON,
    NativeHoldingsResponseToJSON,
    PostExecute200ResponseFromJSON,
    PostExecute200ResponseToJSON,
    PostExecute400ResponseFromJSON,
    PostExecute400ResponseToJSON,
    PostExecuteRequestFromJSON,
    PostExecuteRequestToJSON,
} from '../models/index';

export interface GetHoldingsRequest {
    address: string;
}

export interface GetNativeHoldingsRequest {
    address: string;
}

export interface GetOrderRequest {
    inputMint: string;
    outputMint: string;
    amount: string;
    taker?: string;
    referralAccount?: string;
    referralFee?: number;
    excludeRouters?: GetOrderExcludeRoutersEnum;
    excludeDexes?: string;
}

export interface GetShieldRequest {
    mints: string;
}

export interface PostExecuteOperationRequest {
    postExecuteRequest?: PostExecuteRequest;
}

/**
 * 
 */
export class UltraApi extends runtime.BaseAPI {

    /**
     * Request for detailed token holdings of an account including token account information  :::note - Refer to [Ultra API doc](/docs/ultra-api/get-holdings) for more information ::: 
     * holdings
     */
    async getHoldingsRaw(requestParameters: GetHoldingsRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<HoldingsResponse>> {
        if (requestParameters.address === null || requestParameters.address === undefined) {
            throw new runtime.RequiredError('address','Required parameter requestParameters.address was null or undefined when calling getHoldings.');
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        const response = await this.request({
            path: `/holdings/{address}`.replace(`{${"address"}}`, encodeURIComponent(String(requestParameters.address))),
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => HoldingsResponseFromJSON(jsonValue));
    }

    /**
     * Request for detailed token holdings of an account including token account information  :::note - Refer to [Ultra API doc](/docs/ultra-api/get-holdings) for more information ::: 
     * holdings
     */
    async getHoldings(requestParameters: GetHoldingsRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<HoldingsResponse> {
        const response = await this.getHoldingsRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Request for native SOL holdings only, without other tokens  :::note - This is a more efficient endpoint when you only need SOL balance - Refer to [Ultra API doc](/docs/ultra-api/get-holdings) for more information ::: 
     * holdings (native)
     */
    async getNativeHoldingsRaw(requestParameters: GetNativeHoldingsRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<NativeHoldingsResponse>> {
        if (requestParameters.address === null || requestParameters.address === undefined) {
            throw new runtime.RequiredError('address','Required parameter requestParameters.address was null or undefined when calling getNativeHoldings.');
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        const response = await this.request({
            path: `/holdings/{address}/native`.replace(`{${"address"}}`, encodeURIComponent(String(requestParameters.address))),
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => NativeHoldingsResponseFromJSON(jsonValue));
    }

    /**
     * Request for native SOL holdings only, without other tokens  :::note - This is a more efficient endpoint when you only need SOL balance - Refer to [Ultra API doc](/docs/ultra-api/get-holdings) for more information ::: 
     * holdings (native)
     */
    async getNativeHoldings(requestParameters: GetNativeHoldingsRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<NativeHoldingsResponse> {
        const response = await this.getNativeHoldingsRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Request for a base64-encoded unsigned swap transaction to be used in `POST /ultra/v1/execute`  :::note - Refer to [Ultra API doc](/docs/ultra-api/get-order) for more information ::: 
     * order
     */
    async getOrderRaw(requestParameters: GetOrderRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<GetOrder200Response>> {
        if (requestParameters.inputMint === null || requestParameters.inputMint === undefined) {
            throw new runtime.RequiredError('inputMint','Required parameter requestParameters.inputMint was null or undefined when calling getOrder.');
        }

        if (requestParameters.outputMint === null || requestParameters.outputMint === undefined) {
            throw new runtime.RequiredError('outputMint','Required parameter requestParameters.outputMint was null or undefined when calling getOrder.');
        }

        if (requestParameters.amount === null || requestParameters.amount === undefined) {
            throw new runtime.RequiredError('amount','Required parameter requestParameters.amount was null or undefined when calling getOrder.');
        }

        const queryParameters: any = {};

        if (requestParameters.inputMint !== undefined) {
            queryParameters['inputMint'] = requestParameters.inputMint;
        }

        if (requestParameters.outputMint !== undefined) {
            queryParameters['outputMint'] = requestParameters.outputMint;
        }

        if (requestParameters.amount !== undefined) {
            queryParameters['amount'] = requestParameters.amount;
        }

        if (requestParameters.taker !== undefined) {
            queryParameters['taker'] = requestParameters.taker;
        }

        if (requestParameters.referralAccount !== undefined) {
            queryParameters['referralAccount'] = requestParameters.referralAccount;
        }

        if (requestParameters.referralFee !== undefined) {
            queryParameters['referralFee'] = requestParameters.referralFee;
        }

        if (requestParameters.excludeRouters !== undefined) {
            queryParameters['excludeRouters'] = requestParameters.excludeRouters;
        }

        if (requestParameters.excludeDexes !== undefined) {
            queryParameters['excludeDexes'] = requestParameters.excludeDexes;
        }

        const headerParameters: runtime.HTTPHeaders = {};

        const response = await this.request({
            path: `/order`,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => GetOrder200ResponseFromJSON(jsonValue));
    }

    /**
     * Request for a base64-encoded unsigned swap transaction to be used in `POST /ultra/v1/execute`  :::note - Refer to [Ultra API doc](/docs/ultra-api/get-order) for more information ::: 
     * order
     */
    async getOrder(requestParameters: GetOrderRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<GetOrder200Response> {
        const response = await this.getOrderRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Request for the list of routers available in the routing engine of Ultra, which is [Juno](/docs/routing#juno-liquidity-engine) 
     * routers
     */
    async getRoutersRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<Array<GetRouters200ResponseInner>>> {
        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        const response = await this.request({
            path: `/order/routers`,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => jsonValue.map(GetRouters200ResponseInnerFromJSON));
    }

    /**
     * Request for the list of routers available in the routing engine of Ultra, which is [Juno](/docs/routing#juno-liquidity-engine) 
     * routers
     */
    async getRouters(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<Array<GetRouters200ResponseInner>> {
        const response = await this.getRoutersRaw(initOverrides);
        return await response.value();
    }

    /**
     * Request for token information and warnings of mints    :::note - Refer to [Ultra API doc](/docs/ultra-api/get-shield) for more information ::: 
     * shield
     */
    async getShieldRaw(requestParameters: GetShieldRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<GetShield200Response>> {
        if (requestParameters.mints === null || requestParameters.mints === undefined) {
            throw new runtime.RequiredError('mints','Required parameter requestParameters.mints was null or undefined when calling getShield.');
        }

        const queryParameters: any = {};

        if (requestParameters.mints !== undefined) {
            queryParameters['mints'] = requestParameters.mints;
        }

        const headerParameters: runtime.HTTPHeaders = {};

        const response = await this.request({
            path: `/shield`,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => GetShield200ResponseFromJSON(jsonValue));
    }

    /**
     * Request for token information and warnings of mints    :::note - Refer to [Ultra API doc](/docs/ultra-api/get-shield) for more information ::: 
     * shield
     */
    async getShield(requestParameters: GetShieldRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<GetShield200Response> {
        const response = await this.getShieldRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Execute the signed transaction and get the execution status  :::note - Do note that the `requestId` is found in the response of `/order` - Refer to [Ultra API doc](/docs/ultra-api/execute-order) for more information ::: 
     * execute
     */
    async postExecuteRaw(requestParameters: PostExecuteOperationRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<PostExecute200Response>> {
        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        const response = await this.request({
            path: `/execute`,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: PostExecuteRequestToJSON(requestParameters.postExecuteRequest),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => PostExecute200ResponseFromJSON(jsonValue));
    }

    /**
     * Execute the signed transaction and get the execution status  :::note - Do note that the `requestId` is found in the response of `/order` - Refer to [Ultra API doc](/docs/ultra-api/execute-order) for more information ::: 
     * execute
     */
    async postExecute(requestParameters: PostExecuteOperationRequest = {}, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<PostExecute200Response> {
        const response = await this.postExecuteRaw(requestParameters, initOverrides);
        return await response.value();
    }

}

/**
 * @export
 */
export const GetOrderExcludeRoutersEnum = {
    Metis: 'metis',
    Jupiterz: 'jupiterz',
    Dflow: 'dflow',
    Okx: 'okx'
} as const;
export type GetOrderExcludeRoutersEnum = typeof GetOrderExcludeRoutersEnum[keyof typeof GetOrderExcludeRoutersEnum];
